(()=>{"use strict";const s=async(s,t)=>{const n=await fetch(`https://react-learnwords-030222.herokuapp.com/words?group=${s}&page=${t}`);return await n.json()},t={render:async()=>'\n      <div style="position: absolute; top: 50%; left: 50%; font-size: 64px; transform: translate(-50%, -50%);">\n        Book\n      </div>\n    ',after_render:async()=>{new class{constructor(){console.log("Book"),this.words=[],this.render()}async getWords(t,n){this.words=await s(t,n)}async render(){this.words=await s(0,0),console.log(this.words);const t=this.createWord();document.getElementById("root").appendChild(t)}createWord(){const s=document.createElement("div");return s.style.position="absolute",s.style.top="55%",s.style.left="50%",s.style.transform="translateX(-50%)",s.innerHTML=this.words[0].word,s}}}},n={render:async()=>'\n      <div style="position: absolute; top: 50%; left: 50%; font-size: 64px; transform: translate(-50%, -50%);">\n        Audiocall\n      </div>\n    ',after_render:async()=>{new class{constructor(){console.log("audiocall")}}}},e=class{constructor(s,t,n){this.rightAnswers2=s,this.wrongAnswers2=t,this.totalPoints2=n,this.render(this.rightAnswers2,this.wrongAnswers2,this.totalPoints2)}static wrongAnswers=[];static rightAnswers=[];static fillAnswersArrays(s,t){"right"===s&&this.rightAnswers.push(t),"wrong"===s&&this.wrongAnswers.push(t)}render(s,t,n){console.log("Answers from render--",s,t),document.querySelector(".sprint-wrapper").innerHTML=`\n      <div class="results-page-wrapper">\n        <div class="three-stars">\n          <div class="small-star"></div>\n          <div class="big-star"></div>\n          <div class="small-star"></div>\n        </div>\n        <div class="total-points">\n          <span class="total-points-span1">Total Points:</span>\n          <span class="total-points-span2">${n}</span>\n        </div>\n        <div class="answers-wrapper">\n          <div class="right-answers-title">\n            <span class="right-answers-number">${s.length}</span>\n            <span class="right-answers-number-title">Правильные ответы:</span>\n          </div>\n          <div class="right-answers"></div>\n          <div class="wrong-answers-title">\n            <span class="wrong-answers-number">${t.length}</span>\n            <span class="wrong-answers-number-title">Неправильные ответы:</span>\n          </div>\n          <div class="wrong-answers"></div>\n        </div>\n      </div>\n    `;const e=document.querySelector(".right-answers");if(s[0]){let t=new class{constructor(s){this.rightAnswers=s,this.markup=this.render(this.rightAnswers)}render(s){let t="";for(let n=0;n<s.length;n+=1)t+=`\n      <tr class="result-table-row">\n        <td class="audio-icon-small-td"></td>\n        <td class="result-table-word"-td>${s[n].word}</td>\n        <td class="result-table-word-transcription-td">${s[n].transcription}</td>\n        <td class="result-table-word-translation-td">${s[n].wordTranslate}</td>\n      </tr>\n      `;return`<table class="result-words-table">${t}</table>`}}(s);e.innerHTML=t.markup}const r=document.querySelector(".wrong-answers");if(t[0]){let s=new class{constructor(s){this.wrongAnswers=s,this.markup=this.render(this.wrongAnswers)}render(s){let t="";for(let n=0;n<s.length;n+=1)t+=`\n      <tr class="result-table-row">\n        <td class="audio-icon-small-td"></td>\n        <td class="result-table-word"-td>${s[n].word}</td>\n        <td class="result-table-word-transcription-td">${s[n].transcription}</td>\n        <td class="result-table-word-translation-td">${s[n].wordTranslate}</td>\n      </tr>\n      `;return`<table class="result-words-table">${t}</table>`}}(t);r.innerHTML=s.markup}}},r={totalPoints:0,level:1,guessedWordsInRow:0,set setTotalPoints(s){this.totalPoints=s},set setLevel(s){this.level=s},set setGuessedWordsInRow(s){this.guessedWordsInRow=s}},o=class{constructor(){console.log("TotalPoints");const s=document.querySelector(".points-number");this.totalPoints=0,s.innerHTML=this.totalPoints}addPoints(){const s=document.querySelector(".points-number");this.totalPoints+=10,r.setTotalPoints=this.totalPoints,s.innerHTML=this.totalPoints}countPointsToAdd(s,t){let n=0;return n=10*2**(s-1),t>=3&&(n*=3),n}},i=class{constructor(s){console.log("SprintMainPage",s),this.words=[],this.getSectionWords(s)}async getSectionWords(t){for(let n=0;n<30;n+=1){let e=await s(t,n);this.words.push(e)}console.log(this.words),this.render(this.words)}async render(s){document.querySelector(".sprint-wrapper").innerHTML='\n      <div class="sprint-main-page-wrapper">\n        <div class="question-wrapper">\n          <div class="timer">60</div>\n          <div class="question">\n            <div class="guessed-words-inrow">\n              <div class="quessed-inrow1 quessed-inrow-point"></div>\n              <div class="quessed-inrow2 quessed-inrow-point"></div>\n              <div class="quessed-inrow3 quessed-inrow-point"></div>\n            </div>\n            <div class="nice-icon"></div>\n            <div class="single-word">fvfvf</div>\n            <div class="word-translation">ujujuj</div>\n            <div class="right-wrong-btns">\n              <button class="right-btn">Верно</button>\n              <button class="wrong-btn">Неверно</button>\n            </div>\n          </div>\n          <div class="level-points-audio">\n            <div class="level">\n              <p class="level-title">Level:</p>\n              <p class="level-number">1</p>\n            </div>\n            <div class="points">\n              <p class="points-title">Очки:</p>\n              <p class="points-number">10</p>\n            </div>\n            <div class="audio">\n              <div class="audio-icon"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ',new class{constructor(s){console.log("Question"),this.rightWrongToggle=0,this.currentWord={},this.render(s),this.addListeners(s),this.totalPointsCounter=new o}render(s){const t=document.querySelector(".single-word"),n=document.querySelector(".word-translation");let e=this.createRandomNumber(0,29),r=this.createRandomNumber(0,19);switch(this.rightWrongToggle=this.createRandomNumber(0,1),this.currentWord=s[e][r],console.log("this.currentWord--",this.currentWord),this.rightWrongToggle){case 0:t.innerHTML=`\n        ${s[e][r].word}\n        `,r>10?r-=3:r+=3,n.innerHTML=`\n        ${s[e][r].wordTranslate}\n        `;break;case 1:t.innerHTML=`\n        ${s[e][r].word}\n        `,n.innerHTML=`\n        ${s[e][r].wordTranslate}\n        `;break;default:return}}createRandomNumber(s,t){return s=Math.ceil(s),t=Math.floor(t),Math.floor(Math.random()*(t-s+1))+s}addListeners(s){const t=document.querySelector(".right-btn"),n=document.querySelector(".wrong-btn");t.onclick=t=>{console.log("rightBtn click"),0===this.rightWrongToggle&&e.fillAnswersArrays("wrong",this.currentWord),1===this.rightWrongToggle&&(this.totalPointsCounter.addPoints(),e.fillAnswersArrays("right",this.currentWord),this.changeSprintState()),this.render(s)},n.onclick=t=>{console.log("wrongBtn click"),0===this.rightWrongToggle&&(this.totalPointsCounter.addPoints(),e.fillAnswersArrays("right",this.currentWord),this.changeSprintState()),1===this.rightWrongToggle&&e.fillAnswersArrays("wrong",this.currentWord),this.render(s)}}changeSprintState(){if(r.setGuessedWordsInRow=r.guessedWordsInRow+=1,r.guessedWordsInRow>3&&(r.setGuessedWordsInRow=3),this.makeGreenPoint(r.guessedWordsInRow),3===r.guessedWordsInRow){if(r.setLevel=r.level+=1,r.level>4)return void(r.setLevel=4);r.setGuessedWordsInRow=0,r.level<=4&&(this.makeGreenPoint(3),setTimeout((()=>{this.makeGreenPoint(0)}),1e3)),document.querySelector(".level-number").innerHTML=r.level}console.log("level--",r.level,"guessedWordsInRow--",r.guessedWordsInRow)}makeGreenPoint(s){const t=document.querySelectorAll(".quessed-inrow-point");if(console.log(s,t),0!==s)for(let n=0;n<s;n++)t[n].style.backgroundColor="#95FC7C";else for(let s=0;s<3;s++)t[s].style.backgroundColor="#C4C4C4"}}(s),new class{constructor(){console.log("Countdown");const s=document.querySelector(".timer");let t=1,n=setInterval((function(){t>=60&&(clearInterval(n),new e(e.rightAnswers,e.wrongAnswers,r.totalPoints),e.rightAnswers=[],e.wrongAnswers=[],r.setTotalPoints=0),s.innerHTML=60-t,t+=1}),1e3)}},new o}},a=()=>{const s=(document.location.hash.slice(1).toLowerCase()||"/").split("/"),t={resource:null};return t.resource=s[0],t},l={"/":{render:async()=>'\n      <div style="position: absolute; top: 50%; left: 50%; font-size: 64px; transform: translate(-50%, -50%);">Home</div>\n    ',after_render:async()=>{}},"/book":t,"/games":{render:async()=>'\n      <div style="position: absolute; top: 50%; left: 50%; font-size: 64px; transform: translate(-50%, -50%);">\n        Games\n      </div>\n      <div style="position: absolute; top: 60%; left: 50%; font-size: 36px; transform: translate(-50%, -50%);">\n        <a href="#audiocall">\n          audiocall\n        </a>\n        <a href="#sprint">\n          sprint\n        </a>\n      </div>\n    ',after_render:async()=>{}},"/audiocall":n,"/sprint":{render:async()=>'\n      <div class="sprint-wrapper">\n        <div class="game-introduction">\n          <div class="choose-level">\n            Выберите уровень:\n              <div class="section1">1</div>\n              <div class="section2">2</div>\n              <div class="section3">3</div>\n              <div class="section4">4</div>\n              <div class="section5">5</div>\n              <div class="section6">6</div>\n          </div>\n          <div class="game-description">Игра Спринт - как быстро Вы сможете перевести <br> слова с английского на русский ? <br><br> Проверьте прямо сейчас!</div>\n          <div class="start-btn">Начать</div>\n        </div>\n      </div>\n    ',after_render:async()=>{new class{constructor(){console.log("sprint"),this.addListeners()}addListeners(){document.querySelector(".choose-level").onclick=async function(s){const t=s.target;t.style.backgroundColor="#7A3EFE";const n=document.querySelector(".start-btn");switch(n.style.fontSize="65px",n.style.width="550px",t.className){case"section1":console.log("section1"),new i(0);break;case"section2":console.log("section2"),new i(1);break;case"section3":console.log("section3"),new i(2);break;case"section4":console.log("section4"),new i(3);break;case"section5":console.log("section5"),new i(4);break;case"section6":console.log("section6"),new i(5);break;default:return}}}}}},"/statistics":{render:async()=>'\n      <div style="position: absolute; top: 50%; left: 50%; font-size: 64px; transform: translate(-50%, -50%);">Statistics</div>\n    ',after_render:async()=>{}}},d=async()=>{const s=document.getElementById("root"),t=a(),n=t.resource?`/${t.resource}`:"/",e=l[n];s.innerHTML=await e.render(),await e.after_render()};window.addEventListener("hashchange",d),window.addEventListener("load",d)})();